# Generated by Django 5.2.7 on 2025-12-02 13:07

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('churn_app', '0005_transaction'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='transaction',
            options={'verbose_name': '交易记录', 'verbose_name_plural': '交易记录'},
        ),
        migrations.RemoveField(
            model_name='transaction',
            name='action',
        ),
        migrations.RemoveField(
            model_name='transaction',
            name='created_at',
        ),
        migrations.RemoveField(
            model_name='transaction',
            name='id',
        ),
        migrations.RemoveField(
            model_name='transaction',
            name='recipient',
        ),
        migrations.RemoveField(
            model_name='transaction',
            name='sender',
        ),
        migrations.AddField(
            model_name='transaction',
            name='create_time',
            field=models.DateTimeField(default=django.utils.timezone.now, verbose_name='交易创建时间'),
        ),
        migrations.AddField(
            model_name='transaction',
            name='end_time',
            field=models.DateTimeField(blank=True, null=True, verbose_name='交易结束时间'),
        ),
        migrations.AddField(
            model_name='transaction',
            name='status',
            field=models.CharField(choices=[('success', '成功'), ('failed', '失败')], max_length=10, null=True, verbose_name='交易状态'),
        ),
        migrations.AddField(
            model_name='transaction',
            name='subject_card_no',
            field=models.CharField(max_length=16, null=True, verbose_name='交易主体卡号'),
        ),
        migrations.AddField(
            model_name='transaction',
            name='target_card_no',
            field=models.CharField(blank=True, max_length=16, null=True, verbose_name='目标方卡号'),
        ),
        migrations.AddField(
            model_name='transaction',
            name='transaction_id',
            field=models.BigAutoField(primary_key=True, serialize=False, verbose_name='交易ID'),
        ),
        migrations.AddField(
            model_name='transaction',
            name='transaction_type',
            field=models.CharField(choices=[('remit', '汇款'), ('receive', '收款'), ('withdraw', '取款'), ('deposit', '存款')], max_length=10, null=True, verbose_name='交易类型'),
        ),
        migrations.AlterField(
            model_name='transaction',
            name='amount',
            field=models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='交易金额'),
        ),
        migrations.AlterModelTable(
            name='transaction',
            table='Transaction',
        ),
        migrations.CreateModel(
            name='Client',
            fields=[
                ('client_id', models.BigAutoField(primary_key=True, serialize=False, verbose_name='客户ID')),
                ('warning', models.PositiveSmallIntegerField(choices=[(0, '正常'), (1, '流失预警')], default=0, verbose_name='流失预警')),
                ('age', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='年龄')),
                ('gender', models.CharField(choices=[('male', '男性'), ('female', '女性')], max_length=6, verbose_name='性别')),
                ('dependent_count', models.PositiveSmallIntegerField(blank=True, default=0, null=True, verbose_name='赡养人数')),
                ('education_level', models.CharField(blank=True, choices=[('College', '大学'), ('Doctorate', '博士'), ('Graduate', '研究生'), ('High School', '高中'), ('Post-Graduate', '博士后'), ('Uneducated', '未受教育'), ('Unknown', '未知')], default='Unknown', max_length=20, null=True, verbose_name='教育程度')),
                ('marital_status', models.CharField(blank=True, choices=[('Divorced', '离异'), ('Married', '已婚'), ('Single', '单身'), ('Unknown', '未知')], default='Unknown', max_length=10, null=True, verbose_name='婚姻状态')),
                ('income_level', models.CharField(blank=True, choices=[('$120K +', '12万美元以上'), ('$40K - $60K', '4-6万美元'), ('$60K - $80K', '6-8万美元'), ('$80K - $120K', '8-12万美元'), ('Less than $40K', '4万美元以下'), ('Unknown', '未知')], default='Unknown', max_length=20, null=True, verbose_name='收入等级')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='关联用户')),
            ],
            options={
                'verbose_name': '客户',
                'verbose_name_plural': '客户',
                'db_table': 'Client',
            },
        ),
        migrations.CreateModel(
            name='CreditCard',
            fields=[
                ('credit_id', models.BigAutoField(primary_key=True, serialize=False, verbose_name='信用卡ID')),
                ('card_no', models.CharField(max_length=16, unique=True, verbose_name='信用卡卡号')),
                ('expire_date', models.DateField(verbose_name='卡片有效期')),
                ('credit_limit', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='信用额度')),
                ('available_limit', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='可用额度')),
                ('credit_card_level', models.CharField(choices=[('Bronze', '青铜'), ('Silver', '白银'), ('Gold', '黄金'), ('Platinum', '铂金'), ('Diamond', '钻石')], default='Bronze', max_length=10, verbose_name='信用卡等级')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='关联用户')),
            ],
            options={
                'verbose_name': '信用卡',
                'verbose_name_plural': '信用卡',
                'db_table': 'Credit_Card',
            },
        ),
        migrations.CreateModel(
            name='DebitCard',
            fields=[
                ('debit_id', models.BigAutoField(primary_key=True, serialize=False, verbose_name='借记卡唯一ID')),
                ('card_no', models.CharField(max_length=16, unique=True, verbose_name='借记卡卡号')),
                ('balance', models.DecimalField(decimal_places=2, default=0.0, max_digits=18, verbose_name='账户余额')),
                ('expire_date', models.DateField(verbose_name='卡片有效期')),
                ('daily_limit', models.DecimalField(decimal_places=2, default=5000.0, max_digits=18, verbose_name='单日取款限额')),
                ('debit_card_level', models.CharField(choices=[('Bronze', '青铜'), ('Silver', '白银'), ('Gold', '黄金'), ('Platinum', '铂金'), ('Diamond', '钻石')], default='Bronze', max_length=10, verbose_name='储蓄卡等级')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='关联用户')),
            ],
            options={
                'verbose_name': '借记卡',
                'verbose_name_plural': '借记卡',
                'db_table': 'Debit_Card',
            },
        ),
        migrations.CreateModel(
            name='Staff',
            fields=[
                ('staff_id', models.BigAutoField(primary_key=True, serialize=False, verbose_name='员工ID')),
                ('position', models.CharField(default='staff', max_length=50, verbose_name='职位')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='关联用户')),
            ],
            options={
                'verbose_name': '员工',
                'verbose_name_plural': '员工',
                'db_table': 'Staff',
            },
        ),
        migrations.DeleteModel(
            name='Profile',
        ),
    ]
